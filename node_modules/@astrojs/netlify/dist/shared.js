import { createRedirectsFromAstroRoutes } from "@astrojs/underscore-redirects";
import fs from "node:fs";
async function createRedirects(config, routes, dir, entryFile, type) {
  const kind = type ?? "functions";
  const dynamicTarget = `/.netlify/${kind}/${entryFile}`;
  const _redirectsURL = new URL("./_redirects", dir);
  const _redirects = createRedirectsFromAstroRoutes({
    config,
    routes,
    dir,
    dynamicTarget
  });
  const content = _redirects.print();
  await fs.promises.appendFile(_redirectsURL, content, "utf-8");
}
export {
  createRedirects
};
